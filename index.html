<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Train Scheduler</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- <link rel="stylesheet" href="./assets/css/reset.css"> -->
    <!-- reset link -->

    <link rel="icon" href="https://cdn1.iconfinder.com/data/icons/materia-transport-vol-2/24/014_052_sign_railway_tram_train-512.png">
    <!-- FAVICON -->

    <script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>
    <!-- moment -->

    <link href="https://fonts.googleapis.com/css?family=Fjalla+One&display=swap" rel="stylesheet">
    <!-- google font(s) -->

    <!-- Firebase Reference -->
    <script src="https://www.gstatic.com/firebasejs/6.1.0/firebase.js"></script>

</head>

<body>
    <div class="container">

        <br>

        <!-- Jumbotron Title -->
        <div class="jumbotron">
            <h1 class="text-center">Train Scheduler</h1>
            <h3 class="text-center"></h3>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <h3 class="text-center">
                            Current Train Schedule</h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Current Product -->
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-4 col-sm-offset-2">
                                <img class="img-fluid thumbnail center-block" src="https://www.abc.net.au/news/image/10332862-3x2-700x467.jpg" alt="FAST TRAIN">
                            </div>
                            <div class="col-6">
                                <table>
                                    <thead>
                                        <th class="col">Train Name
                                        </th>
                                        <th class="col">Destination
                                        </th>
                                        <th class="col">Frequency(min)
                                        </th>
                                        <th class="col">Next Arrival
                                        </th>
                                        <th class="col">Minutes Away
                                        </th>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td id="train"></td>
                                            <td id="destination"></td>
                                            <td id="time"></td>
                                            <td id="frequency"></td>
                                            <td></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Make Your Bid -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        Add Train
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="form-group row">
                                <label for="train-name">Train Name</label>
                                <input class="form-control" id="train-name" type="text">
                            </div>
                            <div class="form-group row">
                                <label for="train-destination">Destination</label>
                                <input class="form-control" id="train-destination" type="text">
                            </div>
                            <div class="form-group row">
                                <label for="train-time">First Train Time (HH:mm - military time)</label>
                                <input class="form-control" id="train-time" type="number">
                            </div>
                            <div class="form-group row">
                                <label for="train-frequency">Frequency(min)</label>
                                <input class="form-control" id="train-frequency" type="number">
                            </div>
                            <button class="btn btn-dark" id="submit" type="submit">Submit</button>
                        </form>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <script src="./assets/js/app.js">
        // Assume the following situations.

        // (TEST 1)
        // First Train of the Day is 3:00 AM
        // Assume Train comes every 3 minutes.
        // Assume the current time is 3:16 AM....
        // What time would the next train be...? (Use your brain first)
        // It would be 3:18 -- 2 minutes away

        // (TEST 2)
        // First Train of the Day is 3:00 AM
        // Assume Train comes every 7 minutes.
        // Assume the current time is 3:16 AM....
        // What time would the next train be...? (Use your brain first)
        // It would be 3:21 -- 5 minutes away


        // ==========================================================

        // Solved Mathematically
        // Test case 1:
        // 16 - 00 = 16
        // 16 % 3 = 1 (Modulus is the remainder)
        // 3 - 1 = 2 minutes away
        // 2 + 3:16 = 3:18

        // Solved Mathematically
        // Test case 2:
        // 16 - 00 = 16
        // 16 % 7 = 2 (Modulus is the remainder)
        // 7 - 2 = 5 minutes away
        // 5 + 3:16 = 3:21

        // Assumptions
        var tFrequency = 3;

        // Time is 3:30 AM
        var firstTime = "03:30";

        // First Time (pushed back 1 year to make sure it comes before current time)
        var firstTimeConverted = moment(firstTime, "HH:mm").subtract(1, "years");
        console.log(firstTimeConverted);

        // Current Time
        var currentTime = moment();
        console.log("CURRENT TIME: " + moment(currentTime).format("hh:mm"));

        // Difference between the times
        var diffTime = moment().diff(moment(firstTimeConverted), "minutes");
        console.log("DIFFERENCE IN TIME: " + diffTime);

        // Time apart (remainder)
        var tRemainder = diffTime % tFrequency;
        console.log(tRemainder);

        // Minute Until Train
        var tMinutesTillTrain = tFrequency - tRemainder;
        console.log("MINUTES TILL TRAIN: " + tMinutesTillTrain);

        // Next Train
        var nextTrain = moment().add(tMinutesTillTrain, "minutes");
        console.log("ARRIVAL TIME: " + moment(nextTrain).format("hh:mm"));
    </script>
</body>

</html>